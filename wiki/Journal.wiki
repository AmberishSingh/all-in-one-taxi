= Journal =


== <u> Week #1 9/29 - 10/6 </u> ==

*The progress you made (once you start coding, mention the revisions for that week)*

We have made our front page which include two buttons called "request driver" and "request passenger". If we were to click on request driver it would link to our second page which has two edit text box to type in to and from address. We found tutorials showing us how to enable GPS setting on the phone. We have created Google map view with a marker indicator. We did extensive research about finding the current location of a user and we'll be implementing the following week. 

*The problems you have encounter:*
  
  # We tried to created buttons from the form widget design tool but we have trouble positioning the button at certain location.
  # We have trouble assigning the button to an event handler which would carry out a certain operation for that button. 
  # We have trouble setting up the phone as a deployment. 

*Lesson learned*

  # We learned that instead of using LinearLayout, if we used RelativeLayout, it's easier for us to position our buttons using the widget design tool.
  # We learned for every button we have to assign an onClick action, the name of the onClick action has to have the same name as the name of the even handler function.
  # We learned that in order for us to deploy our project to our android phone, we first have to install the driver at our desktop. 

*What you plan to do the following week*

  # Enable GPS
  # implement the third page 
  # implement the find current location
  # implement the find nearby taxi by hard coding it into the program. 
  # implement the route calculation using Google API.



== <u> Week #2 10/6 - 10/13 </u> == 

*The progress you made (once you start coding, mention the revisions for that week)*

We setup Apache Tomcat Server on port 8080.  We create a servlet called "TaxiCenterController".  This servlet will accept the following request parameters via GET or POST method.

  # lat (for latitude coordinate) ie. lat=12.34
  # long (for longitude coordinate) ie. long=100.322
  # tid (for taxi driver login id) ie. tid=joe22
  # action (for either updating the driver's location information or return the driver info as a json object). Action includes
    * action=set
    * action=json
    * action=html

The servlet will process the request passed from either the mobile device or any java stand alone application.  It will saved these coordinate information corresponding to the appropriate taxi driver into memory.

We have also created a map find the current location using GPS. We used ItemizedOverlay to implement our markers because we want to implement several markers for different drivers. With the ability of creating different markers at different location, we could find the GPS coordinate of different taxi drivers and create a marker. 

We have implement the third page of our design which included two buttons called "Cab directory" and "Find nearby taxi" and we also comment and rename variables so it make it easier for us to maintain in the future. 


*The problems you have encounter:*

  # We cannot get the servlet to execute.  It returns page not not found.  We have uncomment some codes in the web.xml for servlet execution.
  # The google map does not display the current location of the mobile device accurately.  It is in some unknown location on the map.
  # We have problems of setting up a json object to be returned from the servlet to the mobile device.  We didn't know how to setup the correct string values pair to be returned as a json object. 
  # We were not able to implement the route calculation using the google API due to our struggle to setup
  # We first used the zoom in streetView to show the map but the map came up looking very funny with boxes and x mark but using trafficView solve the problem
  # The first thing we used to implement the marker was to use the overlay class. We have to change it because it does not support more than one marker
 

*Lesson learned*

  # We learned how to setup and configure Apache Tomcat web server on our local computer.  We learned how to modify the server.xml to listen to different port.  Default is port 8080.  We learned how to modify the web.xml file to enable servlet execution.
  # We learned how to deploy the java stand alone application onto the web server by exporting war file.
  # We learned how to write a servlet program to handle and process http request to update driver GPS location.
  # We learned how to put different marker on the google map.
  # We learned that zooming in too much causes the streetView to look very funny
  # We learned extending ItemizedOverlay have the ability to defined multiple markers at multiple location. 
  # we learned that onTap of the marker, we could display information of the driver. 

*What you plan to do the following week*

  # Make http request to get the available driver location
  # Parse the json objects to extract taxi driver info
  # take driver info and plot it into the map
  # Implement enable GPS checkbox
  # Convert address to coordinate and vice versa 
  # Debug markers on map
  # Route calculation
  # Implement cab directory 
  # Implement subdirectory of cab directory


== <u> Week #3 10/13 - 10/20 </u> == 

*The progress you made (once you start coding, mention the revisions for that week)*

  # Remove the bug of where the marker was overlapping
  # Able to pass multiple data between activities
  # Able to convert address to coordinate to plot the map
  # Implement to use the Network provider or GPS provider
  # Implemented the cab directory 
  # We combined the two projects together, which is the map and testcab application. Now we can type in the address to show in marker
  # Enabled GPS and implement into the project
  # Move Json object to Project 

*The problems you have encounter:*
  # We did not know that if we were to combing the map with the taxicab project we need a new MAP API key. The key is only valid for the specify project. Which is very troublesome. 
  # I made some update to the taxicab project and then accidentally delete the taxicab project because i was trying to combine the map project together. I end up having  to import the project from SVN and re-update the changes and commit it back on the svn. 
  # We tried to put the Vector of coordinate points into a loop and add it to the marker but it doesn't work. 
  # We tried to pass multiple data between activities but it took us a while because we made it mistake on naming the id of the edittext in the layout of XML.
  # Trouble animating two points if it is too far. 

*Lesson learned*
  # By setting the update rate of location request either 5 secs or 5 meter instead of 0,0 would eliminate the overlapping marker. We could also implement deleting the last marker but setting the marker to 5,5 is easier
  # We also learned that the bug on our address.xml where we switch the name of from edittext to to edittext which gave us inconsistent result.
  # We learned that we could convert address to coordinate and plot multiple coordinate on the map and vice versa. 
 
*What you plan to do the following week*
  # Route calculation
  # Implement cab directory 
  # Implement subdirectory of cab directory
  # Parse Json 
  # able to use a loop to get the points to plot it in the map
  # able to calculate the maximum distance where user could see in a map

== <u> Week #4 10/20 - 10/27 </u> == 
*The progress you made (once you start coding, mention the revisions for that week)*
  # We have implement the cab directory that extends ListActivity. 
  # We used the onListItemClick to check for the array of string value to determined which intent to call. 
  # After pressing on a taxi company, we create a new intent that has a call button that allow user to call the cab company to request a taxi cab
 # we created a call button to call the cab
 # We were able to connect to our tom cat server to get the coordinate from the server and plot it in the map. 
  

*The problems you have encounter:*
  # The program force close when i tried to extends ListActivity
  # Forgot to add the activity to Activity Manifest 
  # we try to calculate distance between two points but it is very inaccurate
  # We had a problem connecting to our server in our application because we are in the same network. Instead connecting to localhost we have to be specifiy our ip address and be at the same network. 
  # The coordinate came out at the wrong spot because we didn't mutliply it by 1E6

*Lesson learned*
  # Always remember to add activity to Manifest when creating a new activity 
  # Need to add andriod:id/list in order to extend ListActity
  # Extending ListActivity is alot easier than extending Activity to implement ListView. The code is more readable if we were to extend ListActivity. 
 
*What you plan to do the following week*
  # Set up Google App Engine
  # swap the map to the driver UI
  # Instead of passenger that will see available driver we would have to have robots that acts as an passengers that let driver see where's the available passengers
  # Passenger is able to make request for driver and driver would be able to accept requestes.
  # After passenger made request they are able to see a confirmation page
  # implement the cab directory where passenger could find the distance, time and cost of each taxi cab company